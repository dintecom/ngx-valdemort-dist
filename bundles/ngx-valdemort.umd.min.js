!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-valdemort",["exports","@angular/core","@angular/forms","@angular/common"],e):e((r=r||self)["ngx-valdemort"]={},r.ng.core,r.ng.forms,r.ng.common)}(this,function(r,e,t,o){"use strict";var n=function(){function r(){this.directives=[]}return r.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],r.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),r}(),i=function(){function r(r){this.templateRef=r}return r.decorators=[{type:e.Directive,args:[{selector:"ng-template[valError]"}]}],r.ctorParameters=function(){return[{type:e.TemplateRef}]},r.propDecorators={type:[{type:e.Input,args:["valError"]}]},r}(),a=function(){function r(r){this.defaultValidationErrors=r}return r.prototype.ngAfterContentInit=function(){this.defaultValidationErrors.directives=this.errorDirectives.toArray()},r.decorators=[{type:e.Directive,args:[{selector:"val-default-errors",host:{style:"display: none"}}]}],r.ctorParameters=function(){return[{type:n}]},r.propDecorators={errorDirectives:[{type:e.ContentChildren,args:[i]}]},r}(),s={ALL:0,ONE:1};s[s.ALL]="ALL",s[s.ONE]="ONE";var l=function(){function r(){this.displayMode=s.ALL,this.errorsClasses=null,this.errorClasses=null,this.shouldDisplayErrors=function(r,e){return r.touched||!!e&&e.submitted}}return r.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],r.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),r}(),c=function(){function r(r,e,t){this.config=r,this.defaultValidationErrors=e,this.controlContainer=t}return Object.defineProperty(r.prototype,"shouldDisplayErrors",{get:function(){var r=this.actualControl;if(!r||!r.invalid||!this.hasDisplayableError(r))return!1;var e=this.controlContainer&&this.controlContainer.formDirective;return this.config.shouldDisplayErrors(r,e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"errorsClasses",{get:function(){return this.config.errorsClasses||""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"errorClasses",{get:function(){return this.config.errorClasses||""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"errorDirectivesToDisplay",{get:function(){for(var r=this,e=[],t=new Set,o=function(){return r.config.displayMode===s.ALL||0===e.length},n=this.actualControl,i=function(r){var o=a.defaultValidationErrors.directives[r];if(t.add(o.type),n.hasError(o.type)){var i=a.errorDirectives.find(function(r){return r.type===o.type});e.push(i||o)}},a=this,l=0;l<this.defaultValidationErrors.directives.length&&o();l++)i(l);var c=this.errorDirectives.toArray();for(l=0;l<c.length&&o();l++){var u=c[l];n.hasError(u.type)&&!t.has(u.type)&&e.push(u)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"actualControl",{get:function(){return this.control||(this.controlName||0===this.controlName)&&this.controlContainer&&this.controlContainer.control&&this.controlContainer.control.controls[this.controlName]},enumerable:!0,configurable:!0}),r.prototype.hasDisplayableError=function(r){var e=this;return r.errors&&Object.keys(r.errors).some(function(r){return e.defaultValidationErrors.directives.some(function(e){return e.type===r})||e.errorDirectives.some(function(e){return e.type===r})})},r.decorators=[{type:e.Component,args:[{selector:"val-errors",template:'<ng-container *ngIf="shouldDisplayErrors">\n  <div [class]="errorClasses" *ngFor="let errorDirective of errorDirectivesToDisplay">\n    <ng-container *ngTemplateOutlet="errorDirective!.templateRef; context: {\n      $implicit: label,\n      error: actualControl.errors![errorDirective.type]\n    }"></ng-container>\n  </div>\n</ng-container>\n',host:{"[class]":"errorsClasses","[style.display]":"shouldDisplayErrors ? '' : 'none'"}}]}],r.ctorParameters=function(){return[{type:l},{type:n},{type:t.ControlContainer,decorators:[{type:e.Optional}]}]},r.propDecorators={control:[{type:e.Input}],controlName:[{type:e.Input}],label:[{type:e.Input}],errorDirectives:[{type:e.ContentChildren,args:[i]}]},r}(),u=function(){function r(){}return r.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule],declarations:[c,i,a],exports:[c,i,a]}]}],r}();r.DefaultValidationErrorsDirective=a,r.DisplayMode=s,r.ValdemortConfig=l,r.ValdemortModule=u,r.ValidationErrorDirective=i,r.ValidationErrorsComponent=c,r.ɵa=n,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-valdemort.umd.min.js.map